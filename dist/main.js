(()=>{"use strict";const e=(e,t,o,r,c,n,d)=>({title:e,description:t,dueDate:o,priority:r,notes:c,checklist:n,project:d,generateTodoTags:function(){let e=[];return["title","description","dueDate","priority","notes","checklist"].forEach((t=>{e.push(function(e,t){let o=document.createElement("p");if(o.classList.add(`${e}-field`),o.classList.add("card-field"),"checklist"==e){if(1==t.checklist)return o;const e=document.createElement("input");e.classList.add(".checkbox-card"),e.setAttribute("type","checkbox"),o.appendChild(e),e.addEventListener("click",(()=>{var o;t.checklist=!0,o=e.closest(".todo-card"),document.querySelector(".undone").removeChild(o),t.displayNewTodo()}))}else o.innerHTML=`<span class="${e}-span">${r=e,r.charAt(0).toUpperCase()+r.slice(1)}: </span> <span class='${e}-${t.priority} priority'> ${t[e]}</span>`;var r;return o}(t,this))})),e},displayNewTodo:function(){const e=document.querySelector(".undone"),t=document.querySelector(".done"),o=document.createElement("div");"High"==this.priority?o.classList.add("high-priority"):"Medium"==this.priority?o.classList.add("medium-priority"):o.classList.add("low-priority"),0==this.checklist?e.appendChild(o):t.appendChild(o),o.classList.add("todo-card"),this.generateTodoTags().forEach((e=>{o.appendChild(e)}))}}),t=t=>{const r=o.getTodoListArr();return{name:t,displayNewProject:function(){const t=document.createElement("li");return t.classList.add("project-item"),t.textContent=this.name,function(t){t.addEventListener("click",(()=>{const o=document.querySelector(".display-board"),c=document.querySelector(".todo-lists");!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(c);const n=document.createElement("div");n.classList.add("done");const d=document.createElement("div");d.classList.add("undone");const i=document.createElement("h3");i.textContent="Done",n.insertBefore(i,n.firstChild);const s=document.createElement("h3");s.textContent="To Do",d.insertBefore(s,d.firstChild),c.appendChild(n),c.insertBefore(d,c.firstChild),o.classList.add("active-board");let l=function(e){const t=document.createElement("h2");return t.classList.add("project-title"),t.textContent=e.textContent,t}(t);c.insertBefore(l,c.firstChild),function(t){let o=r.filter((e=>e.project==t.textContent));o&&o.forEach((t=>{(t=e(t.title,t.description,t.dueDate,t.priority,t.notes,t.checklist,t.project)).displayNewTodo()}))}(t)}))}(t),t}}},o=(()=>{let e=[],o=[];function r(){return localStorage.getItem("projectarr")&&(e=localStorage.getItem("projectarr"),e=JSON.parse(e)),e}return{getProjectArr:r,getTodoListArr:function(){return localStorage.getItem("todolistarr")&&(o=localStorage.getItem("todolistarr"),o=JSON.parse(o)),o},addProject:function(t){e.push(t),localStorage.setItem("projectarr",JSON.stringify(e))},addTodo:function(e){o.push(e),localStorage.setItem("todolistarr",JSON.stringify(o))},savedProjects:function(){const e=document.querySelector(".list");r().length>0&&r().forEach((o=>{o=t(o.name),e.appendChild(o.displayNewProject())}))}}})(),r=document.querySelector(".new-project"),c=document.querySelector(".new-project-input"),n=document.querySelector(".projects"),d=document.querySelectorAll(".submit-todo"),i=document.querySelector(".list");r.addEventListener("click",(()=>{if(r.classList.toggle("active-btn"),c.classList.toggle("active-input"),"Add Project"==r.textContent?r.textContent="New Project":r.textContent="Add Project",c.value){const e=t(c.value),r=e.displayNewProject();o.addProject(e),i.appendChild(r),n.querySelector("form").reset()}})),d.forEach((t=>{t.addEventListener("click",(()=>{const t=document.getElementById("title").value,r=document.getElementById("description").value,c=document.getElementById("due-date").value,n=document.getElementById("check").checked,d=document.getElementById("notes").value,i=document.getElementById("priority").value,s=document.querySelector(".project-title").textContent,l=document.querySelector(".add-todo-form");let a=e(t,r,c,i,d,n,s);a.displayNewTodo(),o.addTodo(a),l.reset()}))})),o.savedProjects()})();
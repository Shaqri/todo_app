(()=>{"use strict";const e=(e,t)=>{const o=(e,t,o="")=>{const r=document.createElement(e);return r.classList.add(t),r.textContent=o,r};return{name:e,displayNewProject:()=>{const r=document.createElement("li");return r.classList.add("project-item"),r.textContent=e,(e=>{e.addEventListener("click",(()=>{const r=document.querySelector(".display-board"),c=document.querySelector(".todo-lists");(e=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(c);const d=o("div","done"),n=o("div","undone"),i=o("h3","done-title","Done");d.insertBefore(i,d.firstChild);const s=o("h3","undone-title","To Do");n.insertBefore(s,n.firstChild),c.appendChild(d),c.insertBefore(n,c.firstChild),r.classList.add("active-board");const a=(e=>{const t=document.createElement("h2");return t.classList.add("project-title"),t.textContent=e.textContent,t})(e);c.insertBefore(a,c.firstChild),(e=>{const o=t().filter((t=>t.project===e.textContent));o&&o.forEach((e=>{e.displayNewTodo()}))})(e)}))})(r),r}}},t=(e,t,o,r,c,d,n,i)=>({title:e,description:t,dueDate:o,priority:r,notes:c,checklist:d,project:n,generateTodoTags:function(){const e=[];return["title","description","dueDate","priority","notes","checklist"].forEach((t=>{e.push(function(e,t){const o=document.createElement("p");if(o.classList.add(`${e}-field`),o.classList.add("card-field"),"checklist"===e){if(!0===t.checklist)return o;let e=document.createElement("input");e.classList.add(".checkbox-card"),e.setAttribute("type","checkbox"),e=function(e,t){return e.addEventListener("click",(()=>{var o;i(t),o=e.closest(".todo-card"),document.querySelector(".undone").removeChild(o),t.displayNewTodo()})),e}(e,t),o.appendChild(e)}else o.innerHTML=`<span class="${e}-span">${r=e,r.charAt(0).toUpperCase()+r.slice(1)}: </span> <span class='${e}-${t.priority} priority'> ${t[e]}</span>`;var r;return o}(t,this))})),e},displayNewTodo:function(){let e=document.createElement("div");e=function(e,t){switch(e.priority){case"High":t.classList.add("high-priority");break;case"Medium":t.classList.add("medium-priority");break;default:t.classList.add("low-priority")}return t}(this,e),e.classList.add("todo-card"),this.generateTodoTags().forEach((t=>{e.appendChild(t)})),function(e,t){const o=document.querySelector(".undone"),r=document.querySelector(".done");!1===e.checklist?o.appendChild(t):r.appendChild(t)}(this,e)}}),o=(()=>{let r,c;const d=()=>(r=JSON.parse(localStorage.getItem("projectarr")),r=r?r.map((t=>e(t.name,o.getTodoListArr))):[],r),n=e=>{const t=c.indexOf(e);e.checklist=!0,c[t]=e,localStorage.setItem("todolistarr",JSON.stringify(c))};return{getProjectArr:d,getTodoListArr:()=>(c=JSON.parse(localStorage.getItem("todolistarr")),c=c?c.map((e=>t(e.title,e.description,e.dueDate,e.priority,e.notes,e.checklist,e.project,n))):[],c),addProject:e=>{r.push(e),localStorage.setItem("projectarr",JSON.stringify(r))},addTodo:e=>{c.push(e),localStorage.setItem("todolistarr",JSON.stringify(c))},savedProjects:()=>{const e=document.querySelector(".list");d().length>0&&d().forEach((t=>{e.appendChild(t.displayNewProject())}))},updateTodo:n}})(),r=o,c=document.querySelector(".new-project"),d=document.querySelector(".new-project-input"),n=document.querySelector(".projects"),i=document.querySelectorAll(".submit-todo"),s=document.querySelector(".list");c.addEventListener("click",(()=>{if(c.classList.toggle("active-btn"),d.classList.toggle("active-input"),"Add Project"===c.textContent?c.textContent="New Project":c.textContent="Add Project",d.value){const t=e(d.value,r.getTodoListArr),o=t.displayNewProject();r.addProject(t),s.appendChild(o),n.querySelector("form").reset()}})),i.forEach((e=>{e.addEventListener("click",(()=>{const e=document.getElementById("title").value,o=document.getElementById("description").value,c=document.getElementById("due-date").value,d=document.getElementById("check").checked,n=document.getElementById("notes").value,i=document.getElementById("priority").value,s=document.querySelector(".project-title").textContent,a=document.querySelector(".add-todo-form"),l=t(e,o,c,i,n,d,s,r.updateTodo);l.displayNewTodo(),r.addTodo(l),a.reset()}))})),r.savedProjects()})();